<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<ui:insert name="head"></ui:insert>
	<h:outputStylesheet library="css" name="style.css" />
</h:head>

<h:body>
	<div class="modal-dialog">
		<div class="modal-content">
			<b:form horizontal="true">
				<b:formGroup>
					<div class="form-rows">
						<div>
							<h4 class="center-block text-center">
								<strong>Récapitulatif</strong>
							</h4>

						</div>
						<div class="modal-body">

							<f:metadata>
								<f:viewParam name="id" value="#{mbOffreSearch.id}" />
								<c:set var="offre"
									value="#{mbOffreSearch.searchResults.get(mbOffreSearch.id)}"
									scope="request" />
							</f:metadata>
							<ui:composition>
								<div class="select-menu">
									<ul>
										<li>Nom de l'offre : #{offre.nom}</li>
										<li>Prestataire : #{offre.troupeau.utilisateur.nom}
											#{offre.troupeau.utilisateur.prenom}</li>
										<li>Date de début : <h:outputText
												value="#{mbOffreSearch.searchDateDebut}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</h:outputText>
										</li>
										<li>Date de fin : <h:outputText
												value="#{mbOffreSearch.searchDateFin}">
												<f:convertDateTime pattern="dd/MM/yyyy" />
											</h:outputText></li>
										<li>Objet de la prestation : #{mbPrestation.getTerrainNom()}</li>
										<li>Lieu de la prestation : #{mbPrestation.getAdresseTerrain()}</li>
										<li>Conditions d'annulation :
											#{offre.conditionAnnulation.nom}</li>
										<li>Frais d'installation : #{mbPrestation.getFraisInstallationOffre()}
											€</li>
										<li>Frais d'intervention : #{mbPrestation.getFraisInterventionOffre()}
											€</li>
										<li>Frais de bétail : #{mbPrestation.getFraisBetailOffre() } €</li>
										<li>Frais de service (10%) : #{mbPrestation.getFraisServiceOffre()} €</li>
										<li>TVA (20%) : #{mbPrestation.getTvaOffre()} €</li>
										<li><strong>Prix total : #{mbPrestation.prixTotal} €</strong></li>
									</ul>
								</div>
							</ui:composition>
						</div>
						<div>
							<div class="btn-toolbar">
								<b:buttonGroup>
									<b:commandButton update="@form" dismiss="modal"
										value="Précédent" look="warning" style="margin:40px"
										oncomplete="if(!validationFailed) { $('.ticketRecapitulatif').modal('hide') } " />
									<b:commandButton update="@form" dismiss="modal"
										style="margin:40px" value="Passer au paiement" look="primary"
										oncomplete="if(!validationFailed) { $('.ticketRecapitulatif').modal('hide') } " />
								</b:buttonGroup>
							</div>

						</div>
					</div>
				</b:formGroup>
			</b:form>
		</div>
	</div>

</h:body>
</html>
